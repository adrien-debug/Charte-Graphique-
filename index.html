<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hearst Theme Builder ‚Äî Design System</title>
  <link rel="stylesheet" href="ds.css" />
  <style>
    * { box-sizing: border-box; }
    body { 
      margin: 0; 
      padding: 0;
      font-family: var(--ds-font-sans);
    }

    /* Layout principal */
    .theme-builder {
      display: grid;
      grid-template-columns: 320px 1fr;
      min-height: 100vh;
      grid-template-rows: auto auto 1fr;
    }
    
    /* Selection bar sticky */
    .selection-bar {
      grid-column: 1 / -1;
      background: var(--ds-bg-surface-2);
      border-bottom: 2px solid var(--ds-border-default);
      padding: 16px 24px;
      display: flex;
      align-items: center;
      gap: 24px;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    }
    .selection-bar__item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 8px 16px;
      background: var(--ds-bg-surface-1);
      border: 1px solid var(--ds-border-subtle);
      border-radius: 8px;
      transition: all var(--ds-dur-fast);
    }
    .selection-bar__item:hover {
      border-color: var(--ds-green-400);
    }
    .selection-bar__label {
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--ds-text-tertiary);
    }
    .selection-bar__value {
      font-size: 14px;
      font-weight: 600;
      color: var(--ds-text-primary);
    }
    .selection-bar__preview {
      display: flex;
      gap: 4px;
    }
    .selection-bar__color {
      width: 20px;
      height: 20px;
      border-radius: 4px;
      border: 1px solid var(--ds-border-default);
    }
    .selection-bar__actions {
      margin-left: auto;
      display: flex;
      gap: 8px;
    }
    
    /* Quick nav tabs */
    .quick-nav {
      grid-column: 1 / -1;
      background: var(--ds-bg-surface-1);
      border-bottom: 1px solid var(--ds-border-default);
      padding: 0 24px;
      display: flex;
      gap: 4px;
      overflow-x: auto;
    }
    .quick-nav__tab {
      padding: 12px 20px;
      background: none;
      border: none;
      border-bottom: 2px solid transparent;
      color: var(--ds-text-secondary);
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all var(--ds-dur-fast);
      white-space: nowrap;
    }
    .quick-nav__tab:hover {
      color: var(--ds-text-primary);
      background: var(--ds-bg-surface-2);
    }
    .quick-nav__tab.is-active {
      color: var(--ds-green-400);
      border-bottom-color: var(--ds-green-400);
      font-weight: 600;
    }
    
    /* Smart suggestions */
    .smart-suggestions {
      margin: 16px 0;
      padding: 16px;
      background: linear-gradient(135deg, rgba(16,185,129,0.1) 0%, rgba(20,184,166,0.1) 100%);
      border: 1px solid rgba(16,185,129,0.3);
      border-radius: 8px;
      display: none;
    }
    .smart-suggestions.is-visible {
      display: block;
    }
    .smart-suggestions__title {
      font-size: 13px;
      font-weight: 600;
      color: var(--ds-green-400);
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .smart-suggestions__list {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .smart-suggestions__item {
      padding: 10px 12px;
      background: rgba(0,0,0,0.2);
      border-radius: 6px;
      font-size: 13px;
      color: var(--ds-text-secondary);
      cursor: pointer;
      transition: all var(--ds-dur-fast);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .smart-suggestions__item:hover {
      background: rgba(16,185,129,0.15);
      color: var(--ds-text-primary);
    }

    /* Header titre */
    .builder-header {
      grid-column: 1 / -1;
      background: linear-gradient(135deg, #0B0D0E 0%, #171B1F 100%);
      border-bottom: 2px solid var(--ds-border-default);
      padding: var(--ds-space-6) var(--ds-space-8);
      text-align: center;
    }
    .builder-header h1 {
      margin: 0;
      font-size: 32px;
      font-weight: 700;
      letter-spacing: -0.02em;
      background: linear-gradient(135deg, #f8fafc 0%, #94a3b8 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .builder-header p {
      margin: 8px 0 0 0;
      color: var(--ds-text-secondary);
      font-size: 14px;
    }

    /* Sidebar de s√©lection */
    .selector-sidebar {
      background: var(--ds-bg-surface-1);
      border-right: 1px solid var(--ds-border-default);
      padding: var(--ds-space-6);
      overflow-y: auto;
      height: calc(100vh - 120px);
    }

    /* Section de tokens */
    .token-section {
      margin-bottom: var(--ds-space-8);
      padding-bottom: var(--ds-space-6);
      border-bottom: 1px solid var(--ds-border-subtle);
    }
    .token-section:last-child {
      border-bottom: none;
    }
    .token-section__header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--ds-space-4);
    }
    .token-section__title {
      font-size: 16px;
      font-weight: 600;
      margin: 0;
      color: var(--ds-text-primary);
    }

    /* Grille de palettes */
    .palette-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 12px;
    }

    /* Carte palette (miniature) */
    .palette-card {
      aspect-ratio: 1;
      border: 2px solid var(--ds-border-subtle);
      border-radius: var(--ds-radius-3);
      cursor: pointer;
      overflow: hidden;
      transition: all var(--ds-dur-fast);
      position: relative;
    }
    .palette-card:hover {
      transform: translateY(-2px);
      border-color: var(--ds-green-400);
      box-shadow: 0 8px 24px rgba(24,169,87,0.2);
    }
    .palette-card.is-active {
      border-color: var(--ds-green-400);
      box-shadow: 0 0 0 3px rgba(24,169,87,0.2);
    }
    .palette-card__colors {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      grid-template-rows: repeat(2, 1fr);
      height: 100%;
      width: 100%;
    }
    .palette-card__color {
      width: 100%;
      height: 100%;
    }
    .palette-card__name {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(0,0,0,0.8);
      backdrop-filter: blur(4px);
      padding: 6px 8px;
      font-size: 11px;
      font-weight: 600;
      text-align: center;
      color: white;
    }

    /* Bouton ajouter */
    .add-button {
      width: 100%;
      padding: 12px;
      background: var(--ds-bg-surface-2);
      border: 2px dashed var(--ds-border-default);
      border-radius: var(--ds-radius-3);
      color: var(--ds-text-secondary);
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all var(--ds-dur-fast);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    .add-button:hover {
      background: var(--ds-bg-surface-3);
      border-color: var(--ds-green-400);
      color: var(--ds-green-400);
    }
    .add-icon {
      width: 20px;
      height: 20px;
      border: 2px solid currentColor;
      border-radius: 50%;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .add-icon::before,
    .add-icon::after {
      content: '';
      position: absolute;
      background: currentColor;
    }
    .add-icon::before {
      width: 10px;
      height: 2px;
    }
    .add-icon::after {
      width: 2px;
      height: 10px;
    }

    /* Zone de preview */
    .preview-zone {
      background: var(--ds-bg-canvas);
      padding: var(--ds-space-8);
      overflow-y: auto;
      height: calc(100vh - 120px);
    }
    .preview-label {
      display: inline-block;
      padding: 6px 12px;
      background: var(--ds-bg-surface-2);
      border-radius: 6px;
      font-size: 12px;
      font-weight: 700;
      letter-spacing: 0.05em;
      color: var(--ds-text-tertiary);
      margin-bottom: var(--ds-space-6);
      text-transform: uppercase;
    }
    .preview-content {
      background: var(--preview-bg, var(--ds-bg-surface-1));
      border: 1px solid var(--ds-border-default);
      border-radius: var(--ds-radius-3);
      padding: var(--ds-space-10);
      min-height: 600px;
    }

    /* Modal popup */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.8);
      backdrop-filter: blur(4px);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    .modal-overlay.is-visible {
      display: flex;
    }
    .modal {
      background: var(--ds-bg-surface-1);
      border: 1px solid var(--ds-border-default);
      border-radius: var(--ds-radius-3);
      max-width: 600px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0,0,0,0.6);
    }
    .modal__header {
      padding: var(--ds-space-6);
      border-bottom: 1px solid var(--ds-border-subtle);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .modal__title {
      font-size: 20px;
      font-weight: 700;
      margin: 0;
    }
    .modal__close {
      background: none;
      border: none;
      color: var(--ds-text-secondary);
      font-size: 24px;
      cursor: pointer;
      padding: 4px 8px;
      line-height: 1;
      transition: color var(--ds-dur-fast);
    }
    .modal__close:hover {
      color: var(--ds-text-primary);
    }
    .modal__body {
      padding: var(--ds-space-6);
    }
    .modal__footer {
      padding: var(--ds-space-6);
      border-top: 1px solid var(--ds-border-subtle);
      display: flex;
      gap: 12px;
      justify-content: flex-end;
    }

    /* Token display */
    .token-group {
      margin-bottom: var(--ds-space-6);
    }
    .token-group__title {
      font-size: 14px;
      font-weight: 600;
      color: var(--ds-text-tertiary);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: var(--ds-space-3);
    }
    .token-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 12px;
      background: var(--ds-bg-surface-2);
      border-radius: var(--ds-radius-2);
      margin-bottom: 6px;
      transition: all var(--ds-dur-fast);
    }
    .token-item:hover {
      background: var(--ds-bg-surface-3);
    }
    .token-item__name {
      font-size: 13px;
      font-weight: 500;
      color: var(--ds-text-secondary);
    }
    .token-item__value {
      font-family: var(--ds-font-mono);
      font-size: 12px;
      color: var(--ds-text-primary);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .token-item__swatch {
      width: 20px;
      height: 20px;
      border-radius: 4px;
      border: 1px solid var(--ds-border-default);
    }

    /* Gradient preview */
    .gradient-preview {
      width: 100%;
      height: 80px;
      border-radius: var(--ds-radius-2);
      margin-bottom: var(--ds-space-4);
      border: 1px solid var(--ds-border-default);
    }

    /* Responsive */
    @media (max-width: 768px) {
      .theme-builder {
        grid-template-columns: 1fr;
      }
      .selector-sidebar {
        height: auto;
        max-height: 400px;
      }
      .preview-zone {
        height: auto;
        min-height: 400px;
      }
    }
  </style>
</head>

<body>
  <!-- Header -->
  <div class="theme-builder">
    <div class="builder-header">
      <h1>HEARST TITRE</h1>
      <p>Theme Builder ‚Äî S√©lectionnez vos tokens graphiques</p>
    </div>

    <!-- Selection Bar (Sticky) -->
    <div class="selection-bar">
      <div class="selection-bar__item">
        <div>
          <div class="selection-bar__label">Couleurs</div>
          <div class="selection-bar__value" id="selectedPaletteName">Dark Pro</div>
        </div>
        <div class="selection-bar__preview" id="selectedPalettePreview">
          <div class="selection-bar__color" style="background: #0f172a;"></div>
          <div class="selection-bar__color" style="background: #10b981;"></div>
          <div class="selection-bar__color" style="background: #1e293b;"></div>
        </div>
      </div>
      
      <div class="selection-bar__item">
        <div>
          <div class="selection-bar__label">Composant</div>
          <div class="selection-bar__value" id="selectedComponent">Preview</div>
        </div>
      </div>
      
      <div class="selection-bar__actions">
        <button class="ds-btn ds-btn--secondary" onclick="compareMode()" style="font-size: 12px; padding: 8px 16px;">
          Compare
        </button>
        <button class="ds-btn ds-btn--primary" onclick="exportTheme()" style="font-size: 12px; padding: 8px 16px;">
          ‚¨á Export
        </button>
      </div>
    </div>

    <!-- Quick Navigation Tabs -->
    <div class="quick-nav">
      <button class="quick-nav__tab is-active" onclick="scrollToSection('couleurs')">üé® Couleurs</button>
      <button class="quick-nav__tab" onclick="scrollToSection('typographie')">Aa Typographie</button>
      <button class="quick-nav__tab" onclick="scrollToSection('espacements')">‚ÜîÔ∏è Espacements</button>
      <button class="quick-nav__tab" onclick="scrollToSection('boxes')">üì¶ Boxes</button>
      <button class="quick-nav__tab" onclick="scrollToSection('menu')">‚ò∞ Menu</button>
      <button class="quick-nav__tab" onclick="scrollToSection('forms')">üìù Forms</button>
      <button class="quick-nav__tab" onclick="scrollToSection('alerts')">üîî Alerts</button>
    </div>

    <!-- Sidebar de s√©lection -->
    <aside class="selector-sidebar">
      <!-- Section Couleurs -->
      <section class="token-section" id="couleurs">
        <div class="token-section__header">
          <h2 class="token-section__title">Couleurs</h2>
        </div>
        
        <!-- Smart Suggestions -->
        <div class="smart-suggestions" id="colorSuggestions">
          <div class="smart-suggestions__title">
            <span>üí°</span>
            <span>Suggestions intelligentes</span>
          </div>
          <div class="smart-suggestions__list">
            <div class="smart-suggestions__item" onclick="applySuggestion('dark-pro', 'card-glass')">
              <span>‚ú® Dark Pro + Card Glass = Perfect combo</span>
              <span style="font-size: 11px; color: var(--ds-green-400);">Essayer ‚Üí</span>
            </div>
            <div class="smart-suggestions__item" onclick="applySuggestion('blue-tech', 'menu-sidebar')">
              <span>üéØ Blue Tech recommended for tech dashboards</span>
              <span style="font-size: 11px; color: var(--ds-green-400);">Essayer ‚Üí</span>
            </div>
          </div>
        </div>
        
        <div class="palette-grid" id="colorPalettes">
          <!-- Palette 1: Dark Pro -->
          <div class="palette-card is-active" data-palette="dark-pro" onclick="openPaletteModal('dark-pro')">
            <div class="palette-card__colors">
              <div class="palette-card__color" style="background: #0f172a;"></div>
              <div class="palette-card__color" style="background: #10b981;"></div>
              <div class="palette-card__color" style="background: #1e293b;"></div>
              <div class="palette-card__color" style="background: #f8fafc;"></div>
            </div>
            <div class="palette-card__name">Dark Pro</div>
          </div>

          <!-- Palette 2: Light Clean -->
          <div class="palette-card" data-palette="light-clean" onclick="openPaletteModal('light-clean')">
            <div class="palette-card__colors">
              <div class="palette-card__color" style="background: #ffffff;"></div>
              <div class="palette-card__color" style="background: #0ea5e9;"></div>
              <div class="palette-card__color" style="background: #f1f5f9;"></div>
              <div class="palette-card__color" style="background: #0f172a;"></div>
            </div>
            <div class="palette-card__name">Light Clean</div>
          </div>

          <!-- Palette 3: Blue Tech -->
          <div class="palette-card" data-palette="blue-tech" onclick="openPaletteModal('blue-tech')">
            <div class="palette-card__colors">
              <div class="palette-card__color" style="background: #0c4a6e;"></div>
              <div class="palette-card__color" style="background: #06b6d4;"></div>
              <div class="palette-card__color" style="background: #075985;"></div>
              <div class="palette-card__color" style="background: #e0f2fe;"></div>
            </div>
            <div class="palette-card__name">Blue Tech</div>
          </div>

          <!-- Palette 4: Green Mining -->
          <div class="palette-card" data-palette="green-mining" onclick="openPaletteModal('green-mining')">
            <div class="palette-card__colors">
              <div class="palette-card__color" style="background: #052e16;"></div>
              <div class="palette-card__color" style="background: #22c55e;"></div>
              <div class="palette-card__color" style="background: #14532d;"></div>
              <div class="palette-card__color" style="background: #dcfce7;"></div>
            </div>
            <div class="palette-card__name">Green Mining</div>
          </div>
        </div>

        <button class="add-button" onclick="alert('Fonctionnalit√© √† venir : Cr√©er une nouvelle palette')">
          <span class="add-icon"></span>
          Nouvelle palette
        </button>
      </section>

      <!-- Section Typographie -->
      <section class="token-section" id="typographie">
        <div class="token-section__header">
          <h2 class="token-section__title">Typographie</h2>
        </div>
        
        <div class="palette-grid">
          <div class="palette-card" onclick="alert('Typo: Inter + IBM Plex')">
            <div style="display:flex; flex-direction:column; justify-content:center; align-items:center; height:100%; background: var(--ds-bg-surface-2); padding:8px;">
              <div style="font-size:20px; font-weight:700; color: var(--ds-text-primary);">Aa</div>
              <div style="font-size:10px; color: var(--ds-text-tertiary); margin-top:4px;">Inter</div>
            </div>
            <div class="palette-card__name">Modern</div>
          </div>

          <div class="palette-card" onclick="alert('Typo: System UI')">
            <div style="display:flex; flex-direction:column; justify-content:center; align-items:center; height:100%; background: var(--ds-bg-surface-2); padding:8px;">
              <div style="font-size:20px; font-weight:700; color: var(--ds-text-primary); font-family: system-ui;">Aa</div>
              <div style="font-size:10px; color: var(--ds-text-tertiary); margin-top:4px;">System</div>
            </div>
            <div class="palette-card__name">System</div>
          </div>
        </div>

        <button class="add-button">
          <span class="add-icon"></span>
          Nouveau style typo
        </button>
      </section>

      <!-- Section Espacements -->
      <section class="token-section" id="espacements">
        <div class="token-section__header">
          <h2 class="token-section__title">Espacements</h2>
        </div>
        
        <div class="palette-grid">
          <div class="palette-card" onclick="alert('Espacements: Compact')">
            <div style="display:flex; flex-direction:column; gap:3px; justify-content:center; align-items:center; height:100%; background: var(--ds-bg-surface-2); padding:12px;">
              <div style="width:60%; height:8px; background: var(--ds-green-400); border-radius:2px;"></div>
              <div style="width:80%; height:8px; background: var(--ds-green-400); border-radius:2px;"></div>
              <div style="width:70%; height:8px; background: var(--ds-green-400); border-radius:2px;"></div>
            </div>
            <div class="palette-card__name">Compact</div>
          </div>

          <div class="palette-card" onclick="alert('Espacements: Confortable')">
            <div style="display:flex; flex-direction:column; gap:8px; justify-content:center; align-items:center; height:100%; background: var(--ds-bg-surface-2); padding:12px;">
              <div style="width:60%; height:8px; background: var(--ds-green-400); border-radius:2px;"></div>
              <div style="width:80%; height:8px; background: var(--ds-green-400); border-radius:2px;"></div>
              <div style="width:70%; height:8px; background: var(--ds-green-400); border-radius:2px;"></div>
            </div>
            <div class="palette-card__name">Confortable</div>
          </div>
        </div>

        <button class="add-button">
          <span class="add-icon"></span>
          Nouveau syst√®me
        </button>
      </section>

      <!-- Section Boxes / Cards -->
      <section class="token-section" id="boxes">
        <div class="token-section__header">
          <h2 class="token-section__title">Boxes / Cards</h2>
        </div>
        
        <div class="palette-grid">
          <div class="palette-card" onclick="showComponentPreview('card-basic')">
            <div style="display:flex; flex-direction:column; gap:6px; padding:12px; background: var(--ds-bg-surface-2); height:100%;">
              <div style="width:100%; height:20px; background: var(--ds-bg-surface-3); border-radius:4px;"></div>
              <div style="width:80%; height:8px; background: var(--ds-border-default); border-radius:2px;"></div>
              <div style="width:90%; height:8px; background: var(--ds-border-default); border-radius:2px;"></div>
            </div>
            <div class="palette-card__name">Card Basic</div>
          </div>

          <div class="palette-card" onclick="showComponentPreview('card-gradient')">
            <div style="display:flex; flex-direction:column; gap:6px; padding:12px; background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%); height:100%;">
              <div style="width:100%; height:20px; background: rgba(255,255,255,0.1); border-radius:4px;"></div>
              <div style="width:80%; height:8px; background: rgba(255,255,255,0.1); border-radius:2px;"></div>
            </div>
            <div class="palette-card__name">Card Gradient</div>
          </div>

          <div class="palette-card" onclick="showComponentPreview('card-bordered')">
            <div style="display:flex; flex-direction:column; gap:6px; padding:12px; background: var(--ds-bg-surface-2); height:100%; border:2px solid var(--ds-green-400);">
              <div style="width:100%; height:20px; background: var(--ds-bg-surface-3); border-radius:4px;"></div>
              <div style="width:80%; height:8px; background: var(--ds-border-default); border-radius:2px;"></div>
            </div>
            <div class="palette-card__name">Card Border</div>
          </div>

          <div class="palette-card" onclick="showComponentPreview('card-glass')">
            <div style="display:flex; flex-direction:column; gap:6px; padding:12px; background: rgba(255,255,255,0.05); backdrop-filter: blur(10px); height:100%; border:1px solid rgba(255,255,255,0.1);">
              <div style="width:100%; height:20px; background: rgba(255,255,255,0.1); border-radius:4px;"></div>
              <div style="width:80%; height:8px; background: rgba(255,255,255,0.1); border-radius:2px;"></div>
            </div>
            <div class="palette-card__name">Card Glass</div>
          </div>
        </div>

        <button class="add-button">
          <span class="add-icon"></span>
          Nouvelle box
        </button>
      </section>

      <!-- Section Menu / Navigation -->
      <section class="token-section" id="menu">
        <div class="token-section__header">
          <h2 class="token-section__title">Menu / Navigation</h2>
        </div>
        
        <div class="palette-grid">
          <div class="palette-card" onclick="showComponentPreview('menu-top')">
            <div style="display:flex; flex-direction:column; height:100%; background: var(--ds-bg-surface-2);">
              <div style="width:100%; height:30%; background: var(--ds-bg-surface-3); display:flex; gap:4px; padding:6px;">
                <div style="width:30%; height:100%; background: var(--ds-green-400); border-radius:2px;"></div>
                <div style="width:20%; height:100%; background: var(--ds-border-default); border-radius:2px;"></div>
                <div style="width:20%; height:100%; background: var(--ds-border-default); border-radius:2px;"></div>
              </div>
              <div style="flex:1; padding:6px;">
                <div style="width:100%; height:100%; background: var(--ds-bg-canvas); border-radius:2px;"></div>
              </div>
            </div>
            <div class="palette-card__name">Top Nav</div>
          </div>

          <div class="palette-card" onclick="showComponentPreview('menu-sidebar')">
            <div style="display:flex; height:100%; background: var(--ds-bg-surface-2);">
              <div style="width:35%; background: var(--ds-bg-surface-3); padding:6px; display:flex; flex-direction:column; gap:4px;">
                <div style="width:100%; height:15px; background: var(--ds-green-400); border-radius:2px;"></div>
                <div style="width:100%; height:8px; background: var(--ds-border-default); border-radius:2px;"></div>
                <div style="width:100%; height:8px; background: var(--ds-border-default); border-radius:2px;"></div>
              </div>
              <div style="flex:1; padding:6px;">
                <div style="width:100%; height:100%; background: var(--ds-bg-canvas); border-radius:2px;"></div>
              </div>
            </div>
            <div class="palette-card__name">Sidebar Nav</div>
          </div>

          <div class="palette-card" onclick="showComponentPreview('menu-mobile')">
            <div style="display:flex; flex-direction:column; height:100%; background: var(--ds-bg-surface-2);">
              <div style="width:100%; height:25%; background: var(--ds-bg-surface-3); display:flex; justify-content:space-between; padding:6px;">
                <div style="width:15px; height:15px; background: var(--ds-green-400); border-radius:2px;"></div>
                <div style="width:15px; height:15px; background: var(--ds-border-default); border-radius:2px;"></div>
              </div>
              <div style="flex:1; padding:6px;">
                <div style="width:100%; height:100%; background: var(--ds-bg-canvas); border-radius:2px;"></div>
              </div>
              <div style="width:100%; height:20%; background: var(--ds-bg-surface-3); display:flex; gap:4px; padding:6px; justify-content:space-around;">
                <div style="width:12px; height:12px; background: var(--ds-border-default); border-radius:50%;"></div>
                <div style="width:12px; height:12px; background: var(--ds-green-400); border-radius:50%;"></div>
                <div style="width:12px; height:12px; background: var(--ds-border-default); border-radius:50%;"></div>
              </div>
            </div>
            <div class="palette-card__name">Mobile Nav</div>
          </div>

          <div class="palette-card" onclick="showComponentPreview('menu-tabs')">
            <div style="display:flex; flex-direction:column; height:100%; background: var(--ds-bg-surface-2); padding:6px; gap:6px;">
              <div style="display:flex; gap:4px; height:20%;">
                <div style="flex:1; background: var(--ds-green-400); border-radius:2px;"></div>
                <div style="flex:1; background: var(--ds-bg-surface-3); border-radius:2px;"></div>
                <div style="flex:1; background: var(--ds-bg-surface-3); border-radius:2px;"></div>
              </div>
              <div style="flex:1; background: var(--ds-bg-canvas); border-radius:2px;"></div>
            </div>
            <div class="palette-card__name">Tabs</div>
          </div>
        </div>

        <button class="add-button">
          <span class="add-icon"></span>
          Nouveau menu
        </button>
      </section>

      <!-- Section Forms / Login -->
      <section class="token-section" id="forms">
        <div class="token-section__header">
          <h2 class="token-section__title">Forms / Login</h2>
        </div>
        
        <div class="palette-grid">
          <div class="palette-card" onclick="showComponentPreview('form-login')">
            <div style="display:flex; flex-direction:column; justify-content:center; gap:8px; padding:12px; background: var(--ds-bg-surface-2); height:100%;">
              <div style="width:100%; height:15px; background: var(--ds-bg-surface-3); border:1px solid var(--ds-border-default); border-radius:4px;"></div>
              <div style="width:100%; height:15px; background: var(--ds-bg-surface-3); border:1px solid var(--ds-border-default); border-radius:4px;"></div>
              <div style="width:100%; height:18px; background: var(--ds-green-400); border-radius:4px; margin-top:4px;"></div>
            </div>
            <div class="palette-card__name">Login Form</div>
          </div>

          <div class="palette-card" onclick="showComponentPreview('form-inputs')">
            <div style="display:flex; flex-direction:column; justify-content:center; gap:6px; padding:12px; background: var(--ds-bg-surface-2); height:100%;">
              <div style="width:100%; height:12px; background: var(--ds-bg-surface-3); border:1px solid var(--ds-border-default); border-radius:4px;"></div>
              <div style="width:100%; height:12px; background: var(--ds-bg-surface-3); border:1px solid var(--ds-border-default); border-radius:4px;"></div>
              <div style="width:100%; height:12px; background: var(--ds-bg-surface-3); border:1px solid var(--ds-border-default); border-radius:4px;"></div>
              <div style="width:100%; height:12px; background: var(--ds-bg-surface-3); border:1px solid var(--ds-border-default); border-radius:4px;"></div>
            </div>
            <div class="palette-card__name">Input Fields</div>
          </div>

          <div class="palette-card" onclick="showComponentPreview('form-search')">
            <div style="display:flex; align-items:center; justify-content:center; padding:12px; background: var(--ds-bg-surface-2); height:100%;">
              <div style="width:90%; height:25px; background: var(--ds-bg-surface-3); border:2px solid var(--ds-green-400); border-radius:20px; display:flex; align-items:center; padding:0 8px;">
                <div style="width:12px; height:12px; border:2px solid var(--ds-text-secondary); border-radius:50%;"></div>
              </div>
            </div>
            <div class="palette-card__name">Search Bar</div>
          </div>

          <div class="palette-card" onclick="showComponentPreview('form-select')">
            <div style="display:flex; flex-direction:column; justify-content:center; gap:6px; padding:12px; background: var(--ds-bg-surface-2); height:100%;">
              <div style="width:100%; height:15px; background: var(--ds-bg-surface-3); border:1px solid var(--ds-border-default); border-radius:4px; position:relative;">
                <div style="position:absolute; right:4px; top:50%; transform:translateY(-50%); width:0; height:0; border-left:4px solid transparent; border-right:4px solid transparent; border-top:5px solid var(--ds-text-secondary);"></div>
              </div>
              <div style="width:100%; height:25px; background: var(--ds-bg-surface-3); border:1px solid var(--ds-green-400); border-radius:4px; padding:4px;">
                <div style="width:80%; height:6px; background: var(--ds-green-400); border-radius:2px;"></div>
                <div style="width:60%; height:6px; background: var(--ds-text-tertiary); border-radius:2px; margin-top:2px;"></div>
              </div>
            </div>
            <div class="palette-card__name">Select / Dropdown</div>
          </div>
        </div>

        <button class="add-button">
          <span class="add-icon"></span>
          Nouveau formulaire
        </button>
      </section>

      <!-- Section Alerts / Badges -->
      <section class="token-section" id="alerts">
        <div class="token-section__header">
          <h2 class="token-section__title">Alerts / Badges</h2>
        </div>
        
        <div class="palette-grid">
          <div class="palette-card" onclick="showComponentPreview('alert-success')">
            <div style="display:flex; align-items:center; justify-content:center; padding:12px; background: rgba(16, 185, 129, 0.15); border-left:3px solid var(--ds-green-400); height:100%;">
              <div style="text-align:center; font-size:10px; color: var(--ds-green-400);">‚úì Success</div>
            </div>
            <div class="palette-card__name">Alert Success</div>
          </div>

          <div class="palette-card" onclick="showComponentPreview('alert-error')">
            <div style="display:flex; align-items:center; justify-content:center; padding:12px; background: rgba(239, 68, 68, 0.15); border-left:3px solid #ef4444; height:100%;">
              <div style="text-align:center; font-size:10px; color: #ef4444;">‚úï Error</div>
            </div>
            <div class="palette-card__name">Alert Error</div>
          </div>

          <div class="palette-card" onclick="showComponentPreview('badge-status')">
            <div style="display:flex; align-items:center; justify-content:center; gap:6px; padding:12px; background: var(--ds-bg-surface-2); height:100%; flex-wrap:wrap;">
              <div style="padding:4px 8px; background: var(--ds-green-400); border-radius:12px; font-size:9px; color:black;">Live</div>
              <div style="padding:4px 8px; background: #ef4444; border-radius:12px; font-size:9px; color:white;">Off</div>
              <div style="padding:4px 8px; background: #f59e0b; border-radius:12px; font-size:9px; color:black;">Warn</div>
            </div>
            <div class="palette-card__name">Status Badges</div>
          </div>

          <div class="palette-card" onclick="showComponentPreview('notification')">
            <div style="display:flex; flex-direction:column; gap:4px; padding:10px; background: var(--ds-bg-surface-3); border:1px solid var(--ds-green-400); border-radius:6px; height:100%; position:relative;">
              <div style="position:absolute; top:6px; right:6px; width:8px; height:8px; background: var(--ds-green-400); border-radius:50%;"></div>
              <div style="width:70%; height:8px; background: var(--ds-text-primary); border-radius:2px;"></div>
              <div style="width:90%; height:6px; background: var(--ds-text-secondary); border-radius:2px;"></div>
              <div style="width:80%; height:6px; background: var(--ds-text-secondary); border-radius:2px;"></div>
            </div>
            <div class="palette-card__name">Notification</div>
          </div>
        </div>

        <button class="add-button">
          <span class="add-icon"></span>
          Nouvel √©l√©ment
        </button>
      </section>
    </aside>

    <!-- Zone de preview -->
    <main class="preview-zone">
      <span class="preview-label">üî¥ Site Live Preview</span>
      
      <div class="preview-content" id="previewContent">
        <h1>Design System Preview</h1>
        <p style="color: var(--ds-text-secondary); margin-bottom: var(--ds-space-6);">
          Cette zone affiche un aper√ßu en temps r√©el de votre site avec les tokens s√©lectionn√©s.
        </p>

        <div style="display: grid; gap: 16px; margin-bottom: var(--ds-space-8);">
          <button class="ds-btn ds-btn--primary">Bouton Primary</button>
          <button class="ds-btn ds-btn--secondary">Bouton Secondary</button>
        </div>

        <div class="demo" style="margin-top: var(--ds-space-8);">
          <h3 style="margin-top: 0;">Exemple de contenu</h3>
          <p style="color: var(--ds-text-secondary);">
            Les couleurs, typographies et espacements changent automatiquement quand vous appliquez une nouvelle palette.
          </p>
          
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 16px; margin-top: var(--ds-space-6);">
            <div class="ds-kpi">
              <div class="ds-kpi__label">Hashrate</div>
              <div class="ds-kpi__value">5.98 EH/s</div>
              <div class="ds-kpi__meta">Live</div>
            </div>
            <div class="ds-kpi">
              <div class="ds-kpi__label">Puissance</div>
              <div class="ds-kpi__value ds-kpi__value--accent">87.7 MW</div>
              <div class="ds-kpi__meta">Nominal</div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Modal Popup pour palette d√©taill√©e -->
  <div class="modal-overlay" id="paletteModal">
    <div class="modal">
      <div class="modal__header">
        <h2 class="modal__title" id="modalTitle">Palette Dark Pro</h2>
        <button class="modal__close" onclick="closePaletteModal()">√ó</button>
      </div>
      
      <div class="modal__body" id="modalBody">
        <!-- Le contenu sera inject√© dynamiquement -->
      </div>
      
      <div class="modal__footer">
        <button class="ds-btn ds-btn--secondary" onclick="closePaletteModal()">Retour</button>
        <button class="ds-btn ds-btn--primary" onclick="applyPalette()">Appliquer</button>
      </div>
    </div>
  </div>

  <script>
    // D√©finition des palettes
    const palettes = {
      'dark-pro': {
        name: 'Dark Pro',
        gradient: 'radial-gradient(ellipse at top, #1e293b 0%, #0f172a 50%, #020617 100%)',
        background: {
          bgPrimary: '#0f172a',
          bgSecondary: '#1e293b',
          bgTertiary: '#334155',
          bgCard: 'rgba(30, 41, 59, 0.5)',
          bgCardHover: 'rgba(30, 41, 59, 0.7)'
        },
        text: {
          textPrimary: '#f8fafc',
          textSecondary: '#e2e8f0',
          textTertiary: '#cbd5e1',
          textMuted: '#94a3b8'
        },
        accents: {
          accentPrimary: '#10b981',
          accentSecondary: '#14b8a6',
          accentTertiary: '#06b6d4'
        }
      },
      'light-clean': {
        name: 'Light Clean',
        gradient: 'radial-gradient(ellipse at top, #f8fafc 0%, #e2e8f0 50%, #cbd5e1 100%)',
        background: {
          bgPrimary: '#ffffff',
          bgSecondary: '#f1f5f9',
          bgTertiary: '#e2e8f0',
          bgCard: 'rgba(241, 245, 249, 0.8)',
          bgCardHover: 'rgba(226, 232, 240, 0.9)'
        },
        text: {
          textPrimary: '#0f172a',
          textSecondary: '#334155',
          textTertiary: '#64748b',
          textMuted: '#94a3b8'
        },
        accents: {
          accentPrimary: '#0ea5e9',
          accentSecondary: '#3b82f6',
          accentTertiary: '#8b5cf6'
        }
      },
      'blue-tech': {
        name: 'Blue Tech',
        gradient: 'radial-gradient(ellipse at top, #075985 0%, #0c4a6e 50%, #082f49 100%)',
        background: {
          bgPrimary: '#0c4a6e',
          bgSecondary: '#075985',
          bgTertiary: '#0369a1',
          bgCard: 'rgba(7, 89, 133, 0.5)',
          bgCardHover: 'rgba(7, 89, 133, 0.7)'
        },
        text: {
          textPrimary: '#e0f2fe',
          textSecondary: '#bae6fd',
          textTertiary: '#7dd3fc',
          textMuted: '#38bdf8'
        },
        accents: {
          accentPrimary: '#06b6d4',
          accentSecondary: '#0ea5e9',
          accentTertiary: '#3b82f6'
        }
      },
      'green-mining': {
        name: 'Green Mining',
        gradient: 'radial-gradient(ellipse at top, #14532d 0%, #052e16 50%, #022c22 100%)',
        background: {
          bgPrimary: '#052e16',
          bgSecondary: '#14532d',
          bgTertiary: '#166534',
          bgCard: 'rgba(20, 83, 45, 0.5)',
          bgCardHover: 'rgba(20, 83, 45, 0.7)'
        },
        text: {
          textPrimary: '#dcfce7',
          textSecondary: '#bbf7d0',
          textTertiary: '#86efac',
          textMuted: '#4ade80'
        },
        accents: {
          accentPrimary: '#22c55e',
          accentSecondary: '#10b981',
          accentTertiary: '#14b8a6'
        }
      }
    };

    let currentPalette = 'dark-pro';

    // Preview templates pour chaque composant
    const componentPreviews = {
      'card-basic': `
        <h2>Card Basic</h2>
        <div style="display: grid; gap: 20px; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));">
          <div class="demo">
            <h3 style="margin-top: 0;">Titre de la card</h3>
            <p style="color: var(--ds-text-secondary);">
              Contenu de la card avec texte descriptif. Les cards basiques ont un fond simple et des bordures subtiles.
            </p>
            <button class="ds-btn ds-btn--primary" style="margin-top: 12px;">Action</button>
          </div>
          <div class="demo">
            <h3 style="margin-top: 0;">Mining Stats</h3>
            <div class="ds-kpi">
              <div class="ds-kpi__label">Hashrate</div>
              <div class="ds-kpi__value">5.98 EH/s</div>
              <div class="ds-kpi__meta">Live</div>
            </div>
          </div>
          <div class="demo">
            <h3 style="margin-top: 0;">Quick Info</h3>
            <p style="color: var(--ds-text-secondary); font-size: 14px; margin: 0;">
              87.7 MW ‚Ä¢ 17,864 miners<br/>
              Uptime: 99.8%
            </p>
          </div>
        </div>
      `,
      'card-gradient': `
        <h2>Card Gradient</h2>
        <div style="display: grid; gap: 20px; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));">
          <div style="background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%); padding: 24px; border-radius: 12px; border: 1px solid var(--ds-border-default);">
            <h3 style="margin-top: 0; background: linear-gradient(135deg, #10b981 0%, #14b8a6 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Premium Feature</h3>
            <p style="color: var(--ds-text-secondary);">
              Cards avec d√©grad√© pour mettre en avant du contenu premium ou important.
            </p>
            <button class="ds-btn ds-btn--primary" style="margin-top: 12px;">Upgrade</button>
          </div>
          <div style="background: linear-gradient(135deg, #0c4a6e 0%, #075985 100%); padding: 24px; border-radius: 12px;">
            <h3 style="margin-top: 0; color: #e0f2fe;">Blue Theme</h3>
            <p style="color: #bae6fd;">
              Variante bleue du d√©grad√© pour diversifier les styles.
            </p>
          </div>
        </div>
      `,
      'card-bordered': `
        <h2>Card Border</h2>
        <div style="display: grid; gap: 20px; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));">
          <div style="background: var(--ds-bg-surface-1); padding: 24px; border-radius: 12px; border: 2px solid var(--ds-green-400);">
            <h3 style="margin-top: 0; color: var(--ds-green-400);">‚úì Active</h3>
            <p style="color: var(--ds-text-secondary);">
              Card avec bordure color√©e pour indiquer un √©tat actif ou s√©lectionn√©.
            </p>
          </div>
          <div style="background: var(--ds-bg-surface-1); padding: 24px; border-radius: 12px; border: 2px solid #ef4444;">
            <h3 style="margin-top: 0; color: #ef4444;">‚úï Error</h3>
            <p style="color: var(--ds-text-secondary);">
              Card avec bordure rouge pour signaler une erreur ou un probl√®me.
            </p>
          </div>
          <div style="background: var(--ds-bg-surface-1); padding: 24px; border-radius: 12px; border: 2px solid #f59e0b;">
            <h3 style="margin-top: 0; color: #f59e0b;">‚ö† Warning</h3>
            <p style="color: var(--ds-text-secondary);">
              Card avec bordure orange pour les avertissements.
            </p>
          </div>
        </div>
      `,
      'card-glass': `
        <h2>Card Glass (Glassmorphism)</h2>
        <div style="background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%); padding: 40px; border-radius: 12px;">
          <div style="display: grid; gap: 20px; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));">
            <div style="background: rgba(255,255,255,0.05); backdrop-filter: blur(10px); padding: 24px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1);">
              <h3 style="margin-top: 0;">Glass Effect</h3>
              <p style="color: var(--ds-text-secondary);">
                Effet de verre avec transparence et flou pour un design moderne et √©l√©gant.
              </p>
            </div>
            <div style="background: rgba(16,185,129,0.1); backdrop-filter: blur(10px); padding: 24px; border-radius: 12px; border: 1px solid rgba(16,185,129,0.3);">
              <h3 style="margin-top: 0; color: var(--ds-green-400);">Colored Glass</h3>
              <p style="color: var(--ds-text-secondary);">
                Variante avec teinte de couleur.
              </p>
            </div>
          </div>
        </div>
      `,
      'menu-top': `
        <h2>Top Navigation</h2>
        <div style="background: var(--ds-bg-surface-1); border: 1px solid var(--ds-border-default); border-radius: 8px; overflow: hidden;">
          <div style="display: flex; align-items: center; justify-content: space-between; padding: 16px 24px; background: var(--ds-bg-surface-2); border-bottom: 1px solid var(--ds-border-default);">
            <div style="font-weight: 700; font-size: 20px;">LOGO</div>
            <div style="display: flex; gap: 24px;">
              <a href="#" style="color: var(--ds-green-400); text-decoration: none; font-weight: 600;">Home</a>
              <a href="#" style="color: var(--ds-text-secondary); text-decoration: none;">Products</a>
              <a href="#" style="color: var(--ds-text-secondary); text-decoration: none;">About</a>
              <a href="#" style="color: var(--ds-text-secondary); text-decoration: none;">Contact</a>
            </div>
            <button class="ds-btn ds-btn--primary">Login</button>
          </div>
          <div style="padding: 40px 24px; text-align: center;">
            <h3>Page Content</h3>
            <p style="color: var(--ds-text-secondary);">Le menu est fixe en haut de la page.</p>
          </div>
        </div>
      `,
      'menu-sidebar': `
        <h2>Sidebar Navigation</h2>
        <div style="display: flex; height: 400px; background: var(--ds-bg-surface-1); border: 1px solid var(--ds-border-default); border-radius: 8px; overflow: hidden;">
          <div style="width: 240px; background: var(--ds-bg-surface-2); border-right: 1px solid var(--ds-border-default); padding: 20px;">
            <div style="font-weight: 700; margin-bottom: 24px;">MENU</div>
            <div style="display: flex; flex-direction: column; gap: 8px;">
              <div style="padding: 10px 12px; background: rgba(16,185,129,0.12); border-radius: 6px; color: var(--ds-green-400); font-weight: 600;">Dashboard</div>
              <div style="padding: 10px 12px; border-radius: 6px; color: var(--ds-text-secondary);">Analytics</div>
              <div style="padding: 10px 12px; border-radius: 6px; color: var(--ds-text-secondary);">Settings</div>
              <div style="padding: 10px 12px; border-radius: 6px; color: var(--ds-text-secondary);">Profile</div>
            </div>
          </div>
          <div style="flex: 1; padding: 24px;">
            <h3 style="margin-top: 0;">Main Content</h3>
            <p style="color: var(--ds-text-secondary);">La sidebar est fixe sur le c√¥t√© gauche.</p>
          </div>
        </div>
      `,
      'menu-mobile': `
        <h2>Mobile Navigation</h2>
        <div style="width: 375px; margin: 0 auto; background: var(--ds-bg-surface-1); border: 1px solid var(--ds-border-default); border-radius: 12px; overflow: hidden;">
          <div style="padding: 16px; background: var(--ds-bg-surface-2); display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--ds-border-default);">
            <div style="font-weight: 700;">LOGO</div>
            <button style="width: 40px; height: 40px; background: none; border: none; color: var(--ds-text-primary); font-size: 24px; cursor: pointer;">‚ò∞</button>
          </div>
          <div style="padding: 40px 20px; text-align: center;">
            <h3>Content</h3>
          </div>
          <div style="display: flex; justify-content: space-around; padding: 16px; background: var(--ds-bg-surface-2); border-top: 1px solid var(--ds-border-default);">
            <div style="display: flex; flex-direction: column; align-items: center; gap: 4px; color: var(--ds-green-400);">
              <div style="width: 24px; height: 24px; background: var(--ds-green-400); border-radius: 50%;"></div>
              <span style="font-size: 11px;">Home</span>
            </div>
            <div style="display: flex; flex-direction: column; align-items: center; gap: 4px; color: var(--ds-text-secondary);">
              <div style="width: 24px; height: 24px; background: var(--ds-text-secondary); border-radius: 50%;"></div>
              <span style="font-size: 11px;">Search</span>
            </div>
            <div style="display: flex; flex-direction: column; align-items: center; gap: 4px; color: var(--ds-text-secondary);">
              <div style="width: 24px; height: 24px; background: var(--ds-text-secondary); border-radius: 50%;"></div>
              <span style="font-size: 11px;">Profile</span>
            </div>
          </div>
        </div>
      `,
      'menu-tabs': `
        <h2>Tabs Navigation</h2>
        <div style="background: var(--ds-bg-surface-1); border: 1px solid var(--ds-border-default); border-radius: 8px; padding: 20px;">
          <div style="display: flex; gap: 8px; border-bottom: 2px solid var(--ds-border-default); margin-bottom: 24px;">
            <button style="padding: 12px 24px; background: none; border: none; border-bottom: 2px solid var(--ds-green-400); margin-bottom: -2px; color: var(--ds-green-400); font-weight: 600; cursor: pointer;">Overview</button>
            <button style="padding: 12px 24px; background: none; border: none; color: var(--ds-text-secondary); cursor: pointer;">Analytics</button>
            <button style="padding: 12px 24px; background: none; border: none; color: var(--ds-text-secondary); cursor: pointer;">Reports</button>
            <button style="padding: 12px 24px; background: none; border: none; color: var(--ds-text-secondary); cursor: pointer;">Settings</button>
          </div>
          <div style="padding: 20px;">
            <h3 style="margin-top: 0;">Tab Content: Overview</h3>
            <p style="color: var(--ds-text-secondary);">Le contenu change en fonction de l'onglet s√©lectionn√©.</p>
          </div>
        </div>
      `,
      'form-login': `
        <h2>Login Form</h2>
        <div style="max-width: 400px; margin: 0 auto; background: var(--ds-bg-surface-1); border: 1px solid var(--ds-border-default); border-radius: 12px; padding: 32px;">
          <h3 style="margin-top: 0; text-align: center;">Connexion</h3>
          <form style="display: flex; flex-direction: column; gap: 16px;">
            <div>
              <label style="display: block; margin-bottom: 6px; font-size: 14px; font-weight: 500;">Email</label>
              <input type="email" placeholder="votre@email.com" style="width: 100%; padding: 12px; background: var(--ds-bg-surface-2); border: 1px solid var(--ds-border-default); border-radius: 6px; color: var(--ds-text-primary); font-size: 14px;" />
            </div>
            <div>
              <label style="display: block; margin-bottom: 6px; font-size: 14px; font-weight: 500;">Mot de passe</label>
              <input type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" style="width: 100%; padding: 12px; background: var(--ds-bg-surface-2); border: 1px solid var(--ds-border-default); border-radius: 6px; color: var(--ds-text-primary); font-size: 14px;" />
            </div>
            <button class="ds-btn ds-btn--primary" style="width: 100%; margin-top: 8px;">Se connecter</button>
            <a href="#" style="text-align: center; font-size: 13px; color: var(--ds-green-400); text-decoration: none;">Mot de passe oubli√© ?</a>
          </form>
        </div>
      `,
      'form-inputs': `
        <h2>Input Fields</h2>
        <div style="max-width: 500px; margin: 0 auto;">
          <div class="demo">
            <div style="display: flex; flex-direction: column; gap: 16px;">
              <div>
                <label style="display: block; margin-bottom: 6px; font-size: 14px; font-weight: 500;">Nom complet</label>
                <input type="text" placeholder="Jean Dupont" style="width: 100%; padding: 12px; background: var(--ds-bg-surface-2); border: 1px solid var(--ds-border-default); border-radius: 6px; color: var(--ds-text-primary);" />
              </div>
              <div>
                <label style="display: block; margin-bottom: 6px; font-size: 14px; font-weight: 500;">Email</label>
                <input type="email" placeholder="jean@example.com" style="width: 100%; padding: 12px; background: var(--ds-bg-surface-2); border: 1px solid var(--ds-border-default); border-radius: 6px; color: var(--ds-text-primary);" />
              </div>
              <div>
                <label style="display: block; margin-bottom: 6px; font-size: 14px; font-weight: 500;">Message</label>
                <textarea placeholder="Votre message..." rows="4" style="width: 100%; padding: 12px; background: var(--ds-bg-surface-2); border: 1px solid var(--ds-border-default); border-radius: 6px; color: var(--ds-text-primary); resize: vertical;"></textarea>
              </div>
              <div style="display: flex; align-items: center; gap: 8px;">
                <input type="checkbox" id="terms" style="width: 18px; height: 18px; accent-color: var(--ds-green-400);" />
                <label for="terms" style="font-size: 14px; color: var(--ds-text-secondary);">J'accepte les conditions</label>
              </div>
            </div>
          </div>
        </div>
      `,
      'form-search': `
        <h2>Search Bar</h2>
        <div style="max-width: 600px; margin: 0 auto;">
          <div class="demo">
            <div style="position: relative;">
              <input type="search" placeholder="Rechercher..." style="width: 100%; padding: 14px 48px 14px 48px; background: var(--ds-bg-surface-2); border: 2px solid var(--ds-green-400); border-radius: 24px; color: var(--ds-text-primary); font-size: 15px;" />
              <span style="position: absolute; left: 16px; top: 50%; transform: translateY(-50%); color: var(--ds-text-secondary); font-size: 20px;">üîç</span>
              <button style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); padding: 6px 16px; background: var(--ds-green-400); border: none; border-radius: 16px; color: black; font-weight: 600; cursor: pointer;">Go</button>
            </div>
            <div style="margin-top: 24px; display: flex; flex-wrap: gap: 8px;">
              <span style="padding: 6px 12px; background: var(--ds-bg-surface-3); border-radius: 16px; font-size: 13px; color: var(--ds-text-secondary);">Populaire: Bitcoin</span>
              <span style="padding: 6px 12px; background: var(--ds-bg-surface-3); border-radius: 16px; font-size: 13px; color: var(--ds-text-secondary);">Mining</span>
              <span style="padding: 6px 12px; background: var(--ds-bg-surface-3); border-radius: 16px; font-size: 13px; color: var(--ds-text-secondary);">Hashrate</span>
            </div>
          </div>
        </div>
      `,
      'form-select': `
        <h2>Select / Dropdown</h2>
        <div style="max-width: 500px; margin: 0 auto;">
          <div class="demo">
            <div style="display: flex; flex-direction: column; gap: 16px;">
              <div>
                <label style="display: block; margin-bottom: 6px; font-size: 14px; font-weight: 500;">Pays</label>
                <select style="width: 100%; padding: 12px; background: var(--ds-bg-surface-2); border: 1px solid var(--ds-border-default); border-radius: 6px; color: var(--ds-text-primary); cursor: pointer;">
                  <option>France</option>
                  <option>Qatar</option>
                  <option>√âtats-Unis</option>
                  <option>Canada</option>
                </select>
              </div>
              <div>
                <label style="display: block; margin-bottom: 6px; font-size: 14px; font-weight: 500;">Type de mining</label>
                <select style="width: 100%; padding: 12px; background: var(--ds-bg-surface-2); border: 1px solid var(--ds-green-400); border-radius: 6px; color: var(--ds-text-primary); cursor: pointer;">
                  <option selected>Bitcoin (BTC)</option>
                  <option>Ethereum (ETH)</option>
                  <option>Litecoin (LTC)</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      `,
      'alert-success': `
        <h2>Alerts</h2>
        <div style="display: flex; flex-direction: column; gap: 16px;">
          <div style="padding: 16px 20px; background: rgba(16, 185, 129, 0.15); border-left: 4px solid var(--ds-green-400); border-radius: 6px; display: flex; align-items: center; gap: 12px;">
            <span style="font-size: 24px;">‚úì</span>
            <div>
              <div style="font-weight: 600; color: var(--ds-green-400); margin-bottom: 4px;">Succ√®s</div>
              <div style="color: var(--ds-text-secondary); font-size: 14px;">L'op√©ration a √©t√© effectu√©e avec succ√®s.</div>
            </div>
          </div>
          <div style="padding: 16px 20px; background: rgba(6, 182, 212, 0.15); border-left: 4px solid #06b6d4; border-radius: 6px; display: flex; align-items: center; gap: 12px;">
            <span style="font-size: 24px;">‚Ñπ</span>
            <div>
              <div style="font-weight: 600; color: #06b6d4; margin-bottom: 4px;">Information</div>
              <div style="color: var(--ds-text-secondary); font-size: 14px;">Nouvelle mise √† jour disponible.</div>
            </div>
          </div>
          <div style="padding: 16px 20px; background: rgba(245, 158, 11, 0.15); border-left: 4px solid #f59e0b; border-radius: 6px; display: flex; align-items: center; gap: 12px;">
            <span style="font-size: 24px;">‚ö†</span>
            <div>
              <div style="font-weight: 600; color: #f59e0b; margin-bottom: 4px;">Attention</div>
              <div style="color: var(--ds-text-secondary); font-size: 14px;">Temp√©rature √©lev√©e d√©tect√©e.</div>
            </div>
          </div>
          <div style="padding: 16px 20px; background: rgba(239, 68, 68, 0.15); border-left: 4px solid #ef4444; border-radius: 6px; display: flex; align-items: center; gap: 12px;">
            <span style="font-size: 24px;">‚úï</span>
            <div>
              <div style="font-weight: 600; color: #ef4444; margin-bottom: 4px;">Erreur</div>
              <div style="color: var(--ds-text-secondary); font-size: 14px;">Impossible de se connecter au serveur.</div>
            </div>
          </div>
        </div>
      `,
      'alert-error': `
        <h2>Error Alerts</h2>
        <div style="display: flex; flex-direction: column; gap: 16px;">
          <div style="padding: 20px; background: rgba(239, 68, 68, 0.2); border: 2px solid #ef4444; border-radius: 8px;">
            <div style="display: flex; align-items: start; gap: 12px;">
              <span style="font-size: 28px; color: #ef4444;">‚ö†</span>
              <div style="flex: 1;">
                <div style="font-weight: 700; color: #ef4444; font-size: 16px; margin-bottom: 8px;">Erreur Critique</div>
                <div style="color: var(--ds-text-secondary); margin-bottom: 12px;">
                  Le syst√®me a rencontr√© une erreur critique. Veuillez contacter le support technique.
                </div>
                <div style="display: flex; gap: 8px;">
                  <button class="ds-btn ds-btn--primary" style="background: #ef4444;">Contacter le support</button>
                  <button class="ds-btn ds-btn--secondary">R√©essayer</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      `,
      'badge-status': `
        <h2>Badges & Status</h2>
        <div class="demo">
          <div style="display: flex; flex-direction: column; gap: 24px;">
            <div>
              <h4 style="margin: 0 0 12px 0; font-size: 14px; color: var(--ds-text-tertiary);">STATUS BADGES</h4>
              <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                <span style="padding: 6px 12px; background: var(--ds-green-400); border-radius: 16px; font-size: 12px; font-weight: 600; color: black;">‚óè Live</span>
                <span style="padding: 6px 12px; background: #ef4444; border-radius: 16px; font-size: 12px; font-weight: 600; color: white;">‚óè Offline</span>
                <span style="padding: 6px 12px; background: #f59e0b; border-radius: 16px; font-size: 12px; font-weight: 600; color: black;">‚óè Warning</span>
                <span style="padding: 6px 12px; background: #06b6d4; border-radius: 16px; font-size: 12px; font-weight: 600; color: black;">‚óè Syncing</span>
                <span style="padding: 6px 12px; background: var(--ds-bg-surface-3); border-radius: 16px; font-size: 12px; font-weight: 600; color: var(--ds-text-secondary);">‚óè Idle</span>
              </div>
            </div>
            <div>
              <h4 style="margin: 0 0 12px 0; font-size: 14px; color: var(--ds-text-tertiary);">CATEGORY TAGS</h4>
              <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                <span style="padding: 4px 10px; background: rgba(16,185,129,0.15); border: 1px solid var(--ds-green-400); border-radius: 4px; font-size: 11px; font-weight: 600; color: var(--ds-green-400);">MINING</span>
                <span style="padding: 4px 10px; background: rgba(6,182,212,0.15); border: 1px solid #06b6d4; border-radius: 4px; font-size: 11px; font-weight: 600; color: #06b6d4;">CRYPTO</span>
                <span style="padding: 4px 10px; background: rgba(139,92,246,0.15); border: 1px solid #8b5cf6; border-radius: 4px; font-size: 11px; font-weight: 600; color: #8b5cf6;">WEB3</span>
                <span style="padding: 4px 10px; background: rgba(245,158,11,0.15); border: 1px solid #f59e0b; border-radius: 4px; font-size: 11px; font-weight: 600; color: #f59e0b;">HOT</span>
              </div>
            </div>
            <div>
              <h4 style="margin: 0 0 12px 0; font-size: 14px; color: var(--ds-text-tertiary);">NOTIFICATION BADGES</h4>
              <div style="display: flex; gap: 24px;">
                <div style="position: relative;">
                  <button class="ds-btn ds-btn--secondary">Messages</button>
                  <span style="position: absolute; top: -6px; right: -6px; width: 20px; height: 20px; background: #ef4444; border-radius: 50%; font-size: 11px; font-weight: 700; color: white; display: flex; align-items: center; justify-content: center;">5</span>
                </div>
                <div style="position: relative;">
                  <button class="ds-btn ds-btn--secondary">Notifications</button>
                  <span style="position: absolute; top: -6px; right: -6px; width: 20px; height: 20px; background: var(--ds-green-400); border-radius: 50%; font-size: 11px; font-weight: 700; color: black; display: flex; align-items: center; justify-content: center;">12</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      `,
      'notification': `
        <h2>Notifications</h2>
        <div style="max-width: 400px; margin: 0 auto; display: flex; flex-direction: column; gap: 12px;">
          <div style="padding: 16px; background: var(--ds-bg-surface-2); border: 1px solid var(--ds-green-400); border-radius: 8px; position: relative;">
            <div style="position: absolute; top: 12px; right: 12px; width: 8px; height: 8px; background: var(--ds-green-400); border-radius: 50%;"></div>
            <div style="font-weight: 600; margin-bottom: 6px;">Nouveau mineur connect√©</div>
            <div style="font-size: 14px; color: var(--ds-text-secondary); margin-bottom: 8px;">
              Un nouveau mineur S21 Hydro a √©t√© d√©tect√© et ajout√© au pool.
            </div>
            <div style="font-size: 12px; color: var(--ds-text-tertiary);">Il y a 2 minutes</div>
          </div>
          
          <div style="padding: 16px; background: var(--ds-bg-surface-2); border: 1px solid var(--ds-border-default); border-radius: 8px;">
            <div style="font-weight: 600; margin-bottom: 6px;">Mise √† jour du syst√®me</div>
            <div style="font-size: 14px; color: var(--ds-text-secondary); margin-bottom: 8px;">
              Une nouvelle version du firmware est disponible (v2.4.1).
            </div>
            <div style="font-size: 12px; color: var(--ds-text-tertiary);">Il y a 1 heure</div>
          </div>
          
          <div style="padding: 16px; background: var(--ds-bg-surface-2); border: 1px solid var(--ds-border-default); border-radius: 8px; opacity: 0.6;">
            <div style="font-weight: 600; margin-bottom: 6px;">Maintenance programm√©e</div>
            <div style="font-size: 14px; color: var(--ds-text-secondary); margin-bottom: 8px;">
              Maintenance du syst√®me pr√©vue demain √† 3h00 UTC.
            </div>
            <div style="font-size: 12px; color: var(--ds-text-tertiary);">Il y a 3 heures</div>
          </div>
        </div>
      `
    };

    function showComponentPreview(componentType) {
      const previewContent = document.getElementById('previewContent');
      const template = componentPreviews[componentType];
      
      if (template) {
        previewContent.innerHTML = template;
        
        // Animation de transition
        previewContent.style.transition = 'all 0.3s ease';
        previewContent.style.opacity = '0';
        previewContent.style.transform = 'translateY(10px)';
        
        setTimeout(() => {
          previewContent.style.opacity = '1';
          previewContent.style.transform = 'translateY(0)';
        }, 50);
      }
    }

    function openPaletteModal(paletteId) {
      currentPalette = paletteId;
      const palette = palettes[paletteId];
      
      document.getElementById('modalTitle').textContent = `Palette ${palette.name}`;
      
      const modalBody = document.getElementById('modalBody');
      modalBody.innerHTML = `
        <div class="token-group">
          <h3 class="token-group__title">D√©grad√© de fond</h3>
          <div class="gradient-preview" style="background: ${palette.gradient};"></div>
          <div class="token-item">
            <span class="token-item__name">CSS</span>
            <span class="token-item__value">${palette.gradient}</span>
          </div>
        </div>

        <div class="token-group">
          <h3 class="token-group__title">Background</h3>
          ${Object.entries(palette.background).map(([key, value]) => `
            <div class="token-item">
              <span class="token-item__name">${key}</span>
              <span class="token-item__value">
                <span class="token-item__swatch" style="background: ${value};"></span>
                ${value}
              </span>
            </div>
          `).join('')}
        </div>

        <div class="token-group">
          <h3 class="token-group__title">Text</h3>
          ${Object.entries(palette.text).map(([key, value]) => `
            <div class="token-item">
              <span class="token-item__name">${key}</span>
              <span class="token-item__value">
                <span class="token-item__swatch" style="background: ${value};"></span>
                ${value}
              </span>
            </div>
          `).join('')}
        </div>

        <div class="token-group">
          <h3 class="token-group__title">Accents</h3>
          ${Object.entries(palette.accents).map(([key, value]) => `
            <div class="token-item">
              <span class="token-item__name">${key}</span>
              <span class="token-item__value">
                <span class="token-item__swatch" style="background: ${value};"></span>
                ${value}
              </span>
            </div>
          `).join('')}
        </div>
      `;
      
      document.getElementById('paletteModal').classList.add('is-visible');
    }

    function closePaletteModal() {
      document.getElementById('paletteModal').classList.remove('is-visible');
    }

    function applyPalette() {
      const palette = palettes[currentPalette];
      const root = document.documentElement;
      
      // Appliquer les variables CSS
      root.style.setProperty('--preview-bg', palette.gradient);
      root.style.setProperty('--ds-bg-canvas', palette.background.bgPrimary);
      root.style.setProperty('--ds-bg-surface-1', palette.background.bgSecondary);
      root.style.setProperty('--ds-bg-surface-2', palette.background.bgTertiary);
      root.style.setProperty('--ds-text-primary', palette.text.textPrimary);
      root.style.setProperty('--ds-text-secondary', palette.text.textSecondary);
      root.style.setProperty('--ds-text-tertiary', palette.text.textTertiary);
      root.style.setProperty('--ds-green-400', palette.accents.accentPrimary);
      
      // Mettre √† jour l'√©tat actif
      document.querySelectorAll('.palette-card').forEach(card => {
        card.classList.remove('is-active');
      });
      document.querySelector(`[data-palette="${currentPalette}"]`).classList.add('is-active');
      
      // Animation de confirmation
      const previewContent = document.getElementById('previewContent');
      previewContent.style.transition = 'all 0.5s ease';
      previewContent.style.transform = 'scale(0.98)';
      setTimeout(() => {
        previewContent.style.transform = 'scale(1)';
      }, 100);
      
      closePaletteModal();
      
      // Notification
      alert(`‚úÖ Palette "${palette.name}" appliqu√©e avec succ√®s !`);
    }

    // Fermer modal avec Escape
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closePaletteModal();
      }
    });

    // Fermer modal en cliquant sur l'overlay
    document.getElementById('paletteModal').addEventListener('click', (e) => {
      if (e.target.id === 'paletteModal') {
        closePaletteModal();
      }
    });

    // ===== NEW FLUID UX FEATURES =====
    
    // Scroll to section with smooth animation
    function scrollToSection(sectionId) {
      const section = document.getElementById(sectionId);
      if (section) {
        section.scrollIntoView({ behavior: 'smooth', block: 'start' });
        
        // Update active tab
        document.querySelectorAll('.quick-nav__tab').forEach(tab => {
          tab.classList.remove('is-active');
        });
        event.target.classList.add('is-active');
        
        // Show smart suggestions for this section
        showSmartSuggestions(sectionId);
      }
    }

    // Update selection bar when palette changes
    function updateSelectionBar(paletteName, colors) {
      document.getElementById('selectedPaletteName').textContent = paletteName;
      const preview = document.getElementById('selectedPalettePreview');
      preview.innerHTML = colors.map(color => 
        `<div class="selection-bar__color" style="background: ${color};"></div>`
      ).join('');
    }

    // Update selected component display
    function updateSelectedComponent(componentName) {
      document.getElementById('selectedComponent').textContent = componentName;
    }

    // Enhanced showComponentPreview with selection bar update
    const originalShowComponentPreview = showComponentPreview;
    showComponentPreview = function(componentType) {
      originalShowComponentPreview(componentType);
      
      // Update selection bar
      const componentNames = {
        'card-basic': 'Card Basic',
        'card-gradient': 'Card Gradient',
        'card-bordered': 'Card Border',
        'card-glass': 'Card Glass',
        'menu-top': 'Top Nav',
        'menu-sidebar': 'Sidebar Nav',
        'menu-mobile': 'Mobile Nav',
        'menu-tabs': 'Tabs',
        'form-login': 'Login Form',
        'form-inputs': 'Input Fields',
        'form-search': 'Search Bar',
        'form-select': 'Dropdown',
        'alert-success': 'Success Alert',
        'alert-error': 'Error Alert',
        'badge-status': 'Badges',
        'notification': 'Notification'
      };
      
      updateSelectedComponent(componentNames[componentType] || componentType);
      
      // Show relevant suggestions
      showRelevantSuggestions(componentType);
    };

    // Smart suggestions based on current selection
    function showSmartSuggestions(sectionId) {
      const suggestions = document.getElementById('colorSuggestions');
      if (suggestions && sectionId === 'couleurs') {
        suggestions.classList.add('is-visible');
      }
    }

    function showRelevantSuggestions(componentType) {
      const suggestions = document.getElementById('colorSuggestions');
      if (!suggestions) return;
      
      const suggestionsList = suggestions.querySelector('.smart-suggestions__list');
      
      // Dynamic suggestions based on component
      const suggestionMap = {
        'card-glass': [
          { palette: 'dark-pro', text: '‚ú® Dark Pro makes glassmorphism shine!' },
          { palette: 'blue-tech', text: 'üåä Blue Tech creates stunning glass effects' }
        ],
        'form-login': [
          { palette: 'dark-pro', text: 'üîê Dark Pro perfect for modern login forms' },
          { palette: 'light-clean', text: '‚òÄÔ∏è Light Clean for friendly login experience' }
        ],
        'menu-sidebar': [
          { palette: 'dark-pro', text: 'üì± Dark Pro ideal for app sidebars' },
          { palette: 'blue-tech', text: 'üíº Blue Tech for professional dashboards' }
        ]
      };
      
      if (suggestionMap[componentType]) {
        suggestionsList.innerHTML = suggestionMap[componentType].map(s => 
          `<div class="smart-suggestions__item" onclick="applySuggestion('${s.palette}', '${componentType}')">
            <span>${s.text}</span>
            <span style="font-size: 11px; color: var(--ds-green-400);">Essayer ‚Üí</span>
          </div>`
        ).join('');
        suggestions.classList.add('is-visible');
      }
    }

    // Apply suggestion (palette + component combo)
    function applySuggestion(paletteId, componentType) {
      // Apply palette
      currentPalette = paletteId;
      const palette = palettes[paletteId];
      
      // Update visuals
      document.querySelectorAll('.palette-card').forEach(card => {
        card.classList.remove('is-active');
        if (card.dataset.palette === paletteId) {
          card.classList.add('is-active');
        }
      });
      
      // Update selection bar
      const paletteColors = Object.values(palette.background).slice(0, 3);
      updateSelectionBar(palette.name, paletteColors);
      
      // Apply the theme
      const root = document.documentElement;
      root.style.setProperty('--preview-bg', palette.gradient);
      root.style.setProperty('--ds-bg-canvas', palette.background.bgPrimary);
      root.style.setProperty('--ds-bg-surface-1', palette.background.bgSecondary);
      root.style.setProperty('--ds-bg-surface-2', palette.background.bgTertiary);
      root.style.setProperty('--ds-text-primary', palette.text.textPrimary);
      root.style.setProperty('--ds-text-secondary', palette.text.textSecondary);
      root.style.setProperty('--ds-green-400', palette.accents.accentPrimary);
      
      // Show component preview
      if (componentType) {
        showComponentPreview(componentType);
      }
      
      // Smooth scroll to preview
      document.querySelector('.preview-zone').scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    // Compare mode (side-by-side comparison)
    function compareMode() {
      alert('Compare Mode: Coming soon! Compare 2 palettes side-by-side.');
    }

    // Export theme
    function exportTheme() {
      const palette = palettes[currentPalette];
      const themeData = {
        name: palette.name,
        timestamp: new Date().toISOString(),
        tokens: {
          colors: palette,
          typography: 'Inter + IBM Plex Mono',
          spacing: 'Comfortable'
        }
      };
      
      const blob = new Blob([JSON.stringify(themeData, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `hearst-theme-${palette.name.toLowerCase().replace(/\s+/g, '-')}.json`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }

    // Enhanced palette modal with selection bar update
    const originalOpenPaletteModal = openPaletteModal;
    openPaletteModal = function(paletteId) {
      originalOpenPaletteModal(paletteId);
      
      // Update selection bar preview
      const palette = palettes[paletteId];
      const colors = [
        palette.background.bgPrimary,
        palette.accents.accentPrimary,
        palette.background.bgSecondary
      ];
      updateSelectionBar(palette.name, colors);
    };

    // Initialize: Show suggestions on load
    document.addEventListener('DOMContentLoaded', () => {
      setTimeout(() => {
        const suggestions = document.getElementById('colorSuggestions');
        if (suggestions) {
          suggestions.classList.add('is-visible');
        }
      }, 1000);
    });
  </script>
</body>
</html>

